{let e=function(){let e=$("#new-post-form");e.submit((function(o){o.preventDefault(),$.ajax({type:"post",url:"/posts/create",data:e.serialize(),success:function(e){console.log(e);let o=n(e.data.post[0]);console.log(e.message),$("#posts-list-container>ul").prepend(o),t($(" .delete-post-button")[0]),new ToggleLike($(" .toggle-like-button",o)),new Noty({theme:"relax",text:"Post published!",type:"success",layout:"topRight",timeout:1500}).show()},error:function(e){console.log(e.responseText)}})}))},t=function(e){$(e).click((function(t){t.preventDefault(),$.ajax({type:"get",url:$(e).prop("href"),success:function(e){console.log(e.message),$(`#post-${e.data.post_id}`).remove(),new Noty({theme:"relax",text:"Post deleted!",type:"success",layout:"topRight",timeout:1500}).show()},error:function(e){console.log("ERROR: "+e.responseText)}})}))},n=function(e){return $(`<li id="post-${e._id}">\n        <p>\n           <span id="post-user-name">\n            <div class="post-user-photo">\n                <img src="${e.user.avatar}">\n            </div>\n            ${e.user.name}\n            </span>\n                <small class="about-post">\n                    ${e.user.createdAt}\n                </small>\n                <span>\n                        <span>\n                            <a class="delete-post-button button" href="/posts/destroy/${e._id}">Delete</a>\n                        </span>\n                    \n                    </span>\n        <br><br>\n        ${e.content}\n    \n            <br>\n            <small>\n               \n                    <a class="toggle-like-button" data-likes="${e.likes.length}" href="/likes/toggle/?id=${e._id}&type=Post">\n                        ${e.likes.length} Likes\n                    </a>   \n                   \n            </small>\n    \n            </p>\n            <div class="post-comments">\n               \n                    <form action="/comments/create" method="post">\n                        <input type="text" name="content" placeholder="Type your comment.." required>\n                        <input type="hidden" name="post" value="${e._id}">\n                        <input type="submit" class="button" value="Add Comment">\n                    </form>\n    \n            </div>\n            <hr>\n    </li>`)};for(button of(e(),$(".delete-post-button")))t(button)}